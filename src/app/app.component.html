<main>
  <button mat-raised-button color="primary" (click)="addPersonForm()">Add</button>

  <form [formGroup]="contractForm" class="contract-form">
    <div class="person-form" formArrayName="personArray" *ngFor="let contract of contractArray; let i = index">
      <p [ngStyle]="{ color: personArray.controls[i].valid ? 'green' : 'red' }">Form is valid : {{ personArray.controls[i].valid }}</p>
      <app-person-form [no]="i" [personFormGroup]="personArray.controls[i]"></app-person-form>
    </div>
  </form>

  <mat-divider></mat-divider>

  <section>
    <pre>Form data is: {{ demoFormValues | json }}</pre>
  </section>
</main>
